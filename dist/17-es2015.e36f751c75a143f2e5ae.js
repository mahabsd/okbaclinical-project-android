(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+P1L":function(e,c,t){"use strict";t.r(c),t.d(c,"routes",function(){return De}),t.d(c,"UsersModule",function(){return Xe});var a=t("ofXK"),i=t("tk/3"),n=t("tyNb"),o=t("3Pt+"),s=t("koPj"),r=t("oOf3"),l=t("PCNd"),d=t("DXe4"),m=t("0IaG"),u=t("/RaO"),g=t("6Qg2"),p=t("EFyh");class f{}class b{}class h{}class w{}class x{}class v{}var y=t("fXoL"),M=t("dNgK"),k=t("wZkO"),C=t("XiUz"),D=t("kmnG"),X=t("NFeN"),V=t("qFsG"),I=t("iadO"),S=t("QibW"),Z=t("Wp6s"),A=t("d3UM"),T=t("bTqV"),U=t("FKr1"),F=t("znSr");function L(e,c){1&e&&(y.ec(0,"span"),y.Xc(1,"Add"),y.dc())}function _(e,c){1&e&&(y.ec(0,"span"),y.Xc(1,"Edit"),y.dc())}function N(e,c){1&e&&(y.ec(0,"mat-error"),y.Xc(1,"Username is required"),y.dc())}function O(e,c){1&e&&(y.ec(0,"mat-error"),y.Xc(1,"Username isn't long enough, minimum of 5 characters"),y.dc())}function P(e,c){1&e&&(y.ec(0,"mat-error"),y.Xc(1,"Password is required"),y.dc())}function Y(e,c){1&e&&(y.ec(0,"mat-error"),y.Xc(1,"Password isn't long enough, minimum of 6 characters"),y.dc())}function j(e,c){if(1&e&&(y.ec(0,"mat-option",38),y.Xc(1),y.dc()),2&e){const e=c.$implicit;y.xc("value",e._id),y.Mb(1),y.Zc(" ",e.name," ")}}function B(e,c){if(1&e&&(y.ec(0,"mat-option",38),y.ec(1,"div",39),y.Zb(2,"div",40),y.ec(3,"span",41),y.Xc(4),y.dc(),y.dc(),y.dc()),2&e){const e=c.$implicit;y.xc("value",e.value),y.Mb(2),y.xc("ngClass",e.value),y.Mb(2),y.Yc(e.viewValue)}}function H(e,c){if(1&e){const e=y.fc();y.ec(0,"span",42),y.mc("click",function(){return y.Mc(e),y.qc().openSnackBarAdd()}),y.Xc(1,"Save"),y.dc()}}function q(e,c){if(1&e){const e=y.fc();y.ec(0,"span",42),y.mc("click",function(){return y.Mc(e),y.qc().openSnackBarUpdate()}),y.Xc(1,"Update"),y.dc()}}let $=(()=>{class e{constructor(e,c,t,a){this.dialogRef=e,this.user=c,this.userService=t,this.snackBar=a,this.passwordHide=!0,this.colors=[{value:"gradient-purple",viewValue:"Purple"},{value:"gradient-indigo",viewValue:"Indigo"},{value:"gradient-teal",viewValue:"Teal"},{value:"gradient-blue",viewValue:"Blue"},{value:"gradient-orange",viewValue:"Orange"},{value:"gradient-green",viewValue:"Green"},{value:"gradient-pink",viewValue:"Pink"},{value:"gradient-red",viewValue:"Red"},{value:"gradient-amber",viewValue:"Amber"},{value:"gradient-gray",viewValue:"Gray"},{value:"gradient-brown",viewValue:"Brown"},{value:"gradient-lime",viewValue:"Lime"}],this.image=null,this.formData=new FormData,this.form=new o.g({_id:new o.e(""),username:new o.e(""),password:new o.e(""),profile:new o.g({name:new o.e(""),surname:new o.e(""),birthday:new o.e(""),gender:new o.e(""),image:new o.e("")}),work:new o.g({company:new o.e(""),roles:new o.e([]),soldeConge:new o.e("")}),contacts:new o.g({email:new o.e(""),phone:new o.e(""),address:new o.e("")}),settings:new o.g({registrationDate:new o.e(""),joinedDate:new o.e(""),bgColor:new o.e("")})})}ngOnInit(){this.user?(this.form.patchValue(this.user),this.form.patchValue({password:""})):(this.user=new f,this.user.profile=new b,this.user.work=new h,this.user.contacts=new w,this.user.social=new x,this.user.settings=new v),this.getRoles()}getRoles(){this.roles=null,this.userService.getAllRoles().subscribe(e=>{this.roles=e})}openSnackBarUpdate(){null!=this.image&&this.formData.append("image",this.image,this.image.name),Object.keys(this.form.value).forEach(e=>{this.formData.append(e,JSON.stringify(this.form.value[e]))}),this.snackBar.open("User updated successfully","close",{duration:2e3})}close(){this.dialogRef.close()}selectImage(e){e.target.value&&(this.image=e.target.files[0])}openSnackBarAdd(){null!=this.image&&this.formData.append("image",this.image,this.image.name),Object.keys(this.form.value).forEach(e=>{this.formData.append(e,JSON.stringify(this.form.value[e]))}),this.snackBar.open("User added successfully","close",{duration:2e3})}}return e.\u0275fac=function(c){return new(c||e)(y.Yb(m.g),y.Yb(m.a),y.Yb(p.a),y.Yb(M.a))},e.\u0275cmp=y.Sb({type:e,selectors:[["app-user-dialog"]],decls:80,vars:17,consts:[["mat-dialog-title",""],[4,"ngIf"],["mat-dialog-content",""],[1,"user-form",3,"formGroup"],[1,"vertical-tabs"],["label","Basic"],["fxLayout","column",1,"form-field-outer"],[1,"w-100"],["matInput","","formControlName","username","required",""],["matInput","","formControlName","password","required","",3,"type"],["matSuffix","",3,"click"],["label","Personal","formGroupName","profile"],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Surname","formControlName","surname"],["matInput","","placeholder","Birthday","formControlName","birthday",3,"matDatepicker"],["matSuffix","",3,"for"],["birthday",""],["formControlName","gender"],["value","male","labelPosition","before"],["value","female","labelPosition","before"],["type","file","accept","image/*",3,"change"],["label","Work","formGroupName","work"],["matInput","","placeholder","Company","formControlName","company"],["placeholder","Position","formControlName","roles"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","days off","formControlName","soldeConge"],["matPrefix",""],["matSuffix",""],["label","Contacts","formGroupName","contacts"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","Phone","formControlName","phone"],["matInput","","placeholder","Address","formControlName","address"],["label","Settings","formGroupName","settings"],["placeholder","Choose bg color","formControlName","bgColor","name","bgColor"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled"],[3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],[3,"value"],["fxLayout","row","fxLayoutAlign","start center"],[1,"p-2",3,"ngClass"],[1,"mx-3"],[3,"click"]],template:function(e,c){if(1&e&&(y.ec(0,"h1",0),y.Vc(1,L,2,0,"span",1),y.Vc(2,_,2,0,"span",1),y.Xc(3," user"),y.dc(),y.ec(4,"div",2),y.ec(5,"form",3),y.ec(6,"mat-tab-group",4),y.ec(7,"mat-tab",5),y.ec(8,"div",6),y.ec(9,"mat-form-field",7),y.ec(10,"mat-placeholder"),y.ec(11,"mat-icon"),y.Xc(12,"person"),y.dc(),y.Xc(13," Username "),y.dc(),y.Zb(14,"input",8),y.Vc(15,N,2,0,"mat-error",1),y.Vc(16,O,2,0,"mat-error",1),y.dc(),y.ec(17,"mat-form-field",7),y.ec(18,"mat-placeholder"),y.ec(19,"mat-icon"),y.Xc(20,"vpn_key"),y.dc(),y.Xc(21," Password "),y.dc(),y.Zb(22,"input",9),y.ec(23,"mat-icon",10),y.mc("click",function(){return c.passwordHide=!c.passwordHide}),y.Xc(24),y.dc(),y.Vc(25,P,2,0,"mat-error",1),y.Vc(26,Y,2,0,"mat-error",1),y.dc(),y.dc(),y.dc(),y.ec(27,"mat-tab",11),y.ec(28,"div",6),y.ec(29,"mat-form-field",7),y.Zb(30,"input",12),y.dc(),y.ec(31,"mat-form-field",7),y.Zb(32,"input",13),y.dc(),y.ec(33,"mat-form-field",7),y.Zb(34,"input",14),y.Zb(35,"mat-datepicker-toggle",15),y.Zb(36,"mat-datepicker",null,16),y.dc(),y.ec(38,"mat-radio-group",17),y.ec(39,"mat-radio-button",18),y.Xc(40,"Male"),y.dc(),y.ec(41,"mat-radio-button",19),y.Xc(42,"Female"),y.dc(),y.dc(),y.ec(43,"p"),y.Xc(44,"add a photo please"),y.dc(),y.ec(45,"input",20),y.mc("change",function(e){return c.selectImage(e)}),y.dc(),y.dc(),y.dc(),y.ec(46,"mat-tab",21),y.ec(47,"div",6),y.ec(48,"mat-form-field",7),y.Zb(49,"input",22),y.dc(),y.ec(50,"div",7),y.Zb(51,"mat-card-header"),y.ec(52,"mat-card-content"),y.ec(53,"mat-form-field",7),y.ec(54,"mat-select",23),y.Vc(55,j,2,2,"mat-option",24),y.dc(),y.dc(),y.dc(),y.dc(),y.ec(56,"mat-form-field",7),y.Zb(57,"input",25),y.ec(58,"span",26),y.Xc(59,"\xa0"),y.dc(),y.Zb(60,"span",27),y.dc(),y.dc(),y.dc(),y.ec(61,"mat-tab",28),y.ec(62,"div",6),y.ec(63,"mat-form-field",7),y.Zb(64,"input",29),y.dc(),y.ec(65,"mat-form-field",7),y.Zb(66,"input",30),y.dc(),y.ec(67,"mat-form-field",7),y.Zb(68,"input",31),y.dc(),y.dc(),y.dc(),y.ec(69,"mat-tab",32),y.ec(70,"div",6),y.ec(71,"mat-form-field"),y.ec(72,"mat-select",33),y.Vc(73,B,5,3,"mat-option",24),y.dc(),y.dc(),y.dc(),y.dc(),y.dc(),y.dc(),y.dc(),y.ec(74,"div",34),y.ec(75,"button",35),y.Vc(76,H,2,0,"span",36),y.Vc(77,q,2,0,"span",36),y.dc(),y.ec(78,"button",37),y.mc("click",function(){return c.close()}),y.Xc(79,"Cancel"),y.dc(),y.dc()),2&e){const e=y.Jc(37);y.Mb(1),y.xc("ngIf",!c.user._id),y.Mb(1),y.xc("ngIf",c.user._id),y.Mb(3),y.xc("formGroup",c.form),y.Mb(10),y.xc("ngIf",null==c.form.controls.username.errors?null:c.form.controls.username.errors.required),y.Mb(1),y.xc("ngIf",c.form.controls.username.hasError("minlength")),y.Mb(6),y.xc("type",c.passwordHide?"password":"text"),y.Mb(2),y.Yc(c.passwordHide?"visibility":"visibility_off"),y.Mb(1),y.xc("ngIf",null==c.form.controls.password.errors?null:c.form.controls.password.errors.required),y.Mb(1),y.xc("ngIf",c.form.controls.password.hasError("minlength")),y.Mb(8),y.xc("matDatepicker",e),y.Mb(1),y.xc("for",e),y.Mb(20),y.xc("ngForOf",c.roles),y.Mb(18),y.xc("ngForOf",c.colors),y.Mb(2),y.xc("mat-dialog-close",c.formData)("disabled",!c.form.valid),y.Mb(1),y.xc("ngIf",!c.user._id),y.Mb(1),y.xc("ngIf",c.user._id)}},directives:[m.h,a.n,m.e,o.u,o.o,o.h,k.b,k.a,C.c,D.c,D.g,X.a,V.b,o.c,o.n,o.f,o.s,D.i,o.i,I.b,I.d,I.a,S.b,S.a,Z.d,Z.c,A.a,a.m,D.h,m.c,C.b,T.b,m.d,D.b,U.m,a.l,F.a],styles:[".user-form[_ngcontent-%COMP%]   .form-field-outer[_ngcontent-%COMP%]{width:280px}.user-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin-right:12px}"]}),e})();var J=t("C790"),G=t("/t3+"),Q=t("STbY"),R=t("f0Cb"),E=t("Xa2L"),z=t("RoQY");function W(e,c){if(1&e&&y.Zb(0,"img",33),2&e){const e=y.qc().$implicit;y.Qb("blocked",e.settings.isDeleted),y.xc("src",e.profile.image,y.Oc)}}function K(e,c){if(1&e&&y.Zb(0,"img",34),2&e){const e=y.qc().$implicit;y.Qb("blocked",e.settings.isDeleted)}}function ee(e,c){1&e&&(y.ec(0,"mat-icon",35),y.Xc(1,"block"),y.dc())}function ce(e,c){if(1&e&&(y.ec(0,"h4",36),y.Xc(1),y.dc()),2&e){const e=y.qc().$implicit;y.Mb(1),y.ad("",e.profile.name," ",e.profile.surname,"")}}function te(e,c){1&e&&(y.ec(0,"h4",36),y.Xc(1,"User blocked"),y.dc())}function ae(e,c){1&e&&(y.ec(0,"span"),y.Xc(1,"Block"),y.dc())}function ie(e,c){1&e&&(y.ec(0,"span"),y.Xc(1,"Unblock"),y.dc())}function ne(e,c){if(1&e){const e=y.fc();y.ec(0,"div",13),y.ec(1,"mat-card",14),y.ec(2,"div",15),y.ec(3,"div",16),y.Vc(4,W,1,3,"img",17),y.Vc(5,K,1,2,"img",18),y.Vc(6,ee,2,0,"mat-icon",19),y.dc(),y.dc(),y.ec(7,"div",20),y.ec(8,"div",21),y.Vc(9,ce,2,2,"h4",22),y.Vc(10,te,2,0,"h4",22),y.ec(11,"button",23,24),y.ec(13,"mat-icon"),y.Xc(14,"more_vert"),y.dc(),y.dc(),y.dc(),y.ec(15,"mat-menu",25,26),y.ec(17,"span",27),y.mc("mouseleave",function(){return y.Mc(e),y.Jc(12).closeMenu()}),y.ec(18,"button",28),y.mc("click",function(){y.Mc(e);const t=c.$implicit;return y.qc(2).openUserDialog(t)}),y.ec(19,"mat-icon"),y.Xc(20,"mode_edit"),y.dc(),y.ec(21,"span"),y.Xc(22,"Edit"),y.dc(),y.dc(),y.ec(23,"button",28),y.mc("click",function(){y.Mc(e);const t=c.$implicit;return y.qc(2).openDialog(t)}),y.ec(24,"mat-icon"),y.Xc(25,"delete"),y.dc(),y.ec(26,"span"),y.Xc(27,"Delete"),y.dc(),y.dc(),y.ec(28,"button",28),y.mc("click",function(){const e=c.$implicit;return e.settings.isDeleted=!e.settings.isDeleted}),y.ec(29,"mat-icon"),y.Xc(30,"block"),y.dc(),y.Vc(31,ae,2,0,"span",29),y.Vc(32,ie,2,0,"span",29),y.dc(),y.dc(),y.dc(),y.Zb(33,"mat-divider"),y.ec(34,"div",30),y.ec(35,"p",31),y.ec(36,"mat-icon",32),y.Xc(37,"card_membership"),y.dc(),y.ec(38,"span"),y.Xc(39),y.dc(),y.dc(),y.ec(40,"p",31),y.ec(41,"mat-icon",32),y.Xc(42,"mail_outline"),y.dc(),y.ec(43,"span"),y.Xc(44),y.dc(),y.dc(),y.ec(45,"p",31),y.ec(46,"mat-icon",32),y.Xc(47,"call"),y.dc(),y.ec(48,"span"),y.Xc(49),y.dc(),y.dc(),y.ec(50,"p",31),y.ec(51,"mat-icon",32),y.Xc(52,"location_on"),y.dc(),y.ec(53,"span"),y.Xc(54),y.dc(),y.dc(),y.dc(),y.dc(),y.dc(),y.dc()}if(2&e){const e=c.$implicit,t=y.Jc(16);y.Mb(2),y.xc("ngClass",e.settings.isDeleted?"":e.settings.bgColor),y.Mb(2),y.xc("ngIf",e.profile.image),y.Mb(1),y.xc("ngIf",!e.profile.image),y.Mb(1),y.xc("ngIf",e.settings.isDeleted),y.Mb(1),y.Qb("blocked",e.settings.isDeleted),y.Mb(2),y.xc("ngIf",!e.settings.isDeleted),y.Mb(1),y.xc("ngIf",e.settings.isDeleted),y.Mb(1),y.xc("matMenuTriggerFor",t),y.Mb(20),y.xc("ngIf",!e.settings.isDeleted),y.Mb(1),y.xc("ngIf",e.settings.isDeleted),y.Mb(2),y.Qb("blocked",e.settings.isDeleted),y.Mb(5),y.Yc(e.work.position),y.Mb(5),y.Yc(e.contacts.email),y.Mb(5),y.Yc(e.contacts.phone),y.Mb(5),y.Yc(e.contacts.address)}}const oe=function(e){return{itemsPerPage:6,currentPage:e}};function se(e,c){if(1&e&&(y.ec(0,"div",11),y.Vc(1,ne,55,17,"div",12),y.rc(2,"paginate"),y.rc(3,"UserSearchPipe"),y.dc()),2&e){const e=y.qc();y.Mb(1),y.xc("ngForOf",y.tc(2,1,y.tc(3,4,e.users,e.searchText),y.Ac(7,oe,e.page)))}}function re(e,c){if(1&e&&y.Zb(0,"img",33),2&e){const e=y.qc().$implicit;y.Qb("blocked",e.settings.isDeleted),y.xc("src",e.profile.image,y.Oc)}}function le(e,c){if(1&e&&y.Zb(0,"img",34),2&e){const e=y.qc().$implicit;y.Qb("blocked",e.settings.isDeleted)}}function de(e,c){1&e&&(y.ec(0,"mat-icon",35),y.Xc(1,"block"),y.dc())}function me(e,c){if(1&e&&(y.ec(0,"h4",36),y.Xc(1),y.dc()),2&e){const e=y.qc().$implicit;y.Mb(1),y.ad("",e.profile.name," ",e.profile.surname,"")}}function ue(e,c){1&e&&(y.ec(0,"h4",36),y.Xc(1,"User blocked"),y.dc())}function ge(e,c){1&e&&(y.ec(0,"span"),y.Xc(1,"Block"),y.dc())}function pe(e,c){1&e&&(y.ec(0,"span"),y.Xc(1,"Unblock"),y.dc())}function fe(e,c){1&e&&(y.ec(0,"mat-icon",32),y.Xc(1,"person_outline "),y.dc())}function be(e,c){1&e&&(y.ec(0,"mat-icon",32),y.Xc(1,"person"),y.dc())}function he(e,c){if(1&e){const e=y.fc();y.ec(0,"div",38),y.ec(1,"mat-card",39),y.ec(2,"div",40),y.ec(3,"div",16),y.Vc(4,re,1,3,"img",17),y.Vc(5,le,1,2,"img",18),y.Vc(6,de,2,0,"mat-icon",19),y.ec(7,"div",41),y.ec(8,"a",42),y.pc(),y.ec(9,"svg",43),y.Zb(10,"path",44),y.dc(),y.dc(),y.oc(),y.ec(11,"a",42),y.pc(),y.ec(12,"svg",43),y.Zb(13,"path",45),y.dc(),y.dc(),y.oc(),y.ec(14,"a",42),y.pc(),y.ec(15,"svg",43),y.Zb(16,"path",46),y.dc(),y.dc(),y.dc(),y.dc(),y.dc(),y.oc(),y.ec(17,"div",47),y.ec(18,"div",48),y.ec(19,"div",21),y.Vc(20,me,2,2,"h4",22),y.Vc(21,ue,2,0,"h4",22),y.ec(22,"button",23,24),y.ec(24,"mat-icon"),y.Xc(25,"more_vert"),y.dc(),y.dc(),y.dc(),y.ec(26,"mat-menu",25,26),y.ec(28,"span",27),y.mc("mouseleave",function(){return y.Mc(e),y.Jc(23).closeMenu()}),y.ec(29,"button",28),y.mc("click",function(){y.Mc(e);const t=c.$implicit;return y.qc(2).openUserDialog(t)}),y.ec(30,"mat-icon"),y.Xc(31,"mode_edit"),y.dc(),y.ec(32,"span"),y.Xc(33,"Edit"),y.dc(),y.dc(),y.ec(34,"button",28),y.mc("click",function(){y.Mc(e);const t=c.$implicit;return y.qc(2).openDialog(t)}),y.ec(35,"mat-icon"),y.Xc(36,"delete"),y.dc(),y.ec(37,"span"),y.Xc(38,"Delete"),y.dc(),y.dc(),y.ec(39,"button",28),y.mc("click",function(){const e=c.$implicit;return e.settings.isDeleted=!e.settings.isDeleted}),y.ec(40,"mat-icon"),y.Xc(41,"block"),y.dc(),y.Vc(42,ge,2,0,"span",29),y.Vc(43,pe,2,0,"span",29),y.dc(),y.dc(),y.dc(),y.Zb(44,"mat-divider"),y.dc(),y.ec(45,"div",49),y.ec(46,"p",31),y.ec(47,"mat-icon",32),y.Xc(48,"business"),y.dc(),y.ec(49,"span"),y.Xc(50),y.dc(),y.dc(),y.ec(51,"p",31),y.ec(52,"mat-icon",32),y.Xc(53,"card_membership"),y.dc(),y.ec(54,"span"),y.Xc(55),y.dc(),y.dc(),y.ec(56,"p",31),y.ec(57,"mat-icon",32),y.Xc(58,"attach_money"),y.dc(),y.ec(59,"span"),y.Xc(60),y.dc(),y.dc(),y.dc(),y.ec(61,"div",49),y.ec(62,"p",31),y.ec(63,"mat-icon",32),y.Xc(64,"mail_outline"),y.dc(),y.ec(65,"span"),y.Xc(66),y.dc(),y.dc(),y.ec(67,"p",31),y.ec(68,"mat-icon",32),y.Xc(69,"call"),y.dc(),y.ec(70,"span"),y.Xc(71),y.dc(),y.dc(),y.ec(72,"p",31),y.ec(73,"mat-icon",32),y.Xc(74,"location_on"),y.dc(),y.ec(75,"span"),y.Xc(76),y.dc(),y.dc(),y.dc(),y.ec(77,"div",50),y.ec(78,"p",31),y.ec(79,"mat-icon",32),y.Xc(80,"event_available"),y.dc(),y.ec(81,"span"),y.Xc(82),y.rc(83,"date"),y.dc(),y.dc(),y.ec(84,"p",31),y.ec(85,"mat-icon",32),y.Xc(86,"date_range"),y.dc(),y.ec(87,"span"),y.Xc(88),y.rc(89,"date"),y.dc(),y.dc(),y.ec(90,"p",31),y.Vc(91,fe,2,0,"mat-icon",51),y.Vc(92,be,2,0,"mat-icon",51),y.ec(93,"span"),y.Xc(94),y.dc(),y.dc(),y.dc(),y.dc(),y.dc(),y.dc()}if(2&e){const e=c.$implicit,t=y.Jc(27);y.Mb(2),y.xc("ngClass",e.settings.isDeleted?"":e.settings.bgColor),y.Mb(2),y.xc("ngIf",e.profile.image),y.Mb(1),y.xc("ngIf",!e.profile.image),y.Mb(1),y.xc("ngIf",e.settings.isDeleted),y.Mb(2),y.xc("href","https://www.facebook.com/"+e.social.facebook,y.Oc),y.Mb(3),y.xc("href","https://twitter.com/"+e.social.twitter,y.Oc),y.Mb(3),y.xc("href","https://plus.google.com/"+e.social.google,y.Oc),y.Mb(6),y.xc("ngIf",!e.settings.isDeleted),y.Mb(1),y.xc("ngIf",e.settings.isDeleted),y.Mb(1),y.xc("matMenuTriggerFor",t),y.Mb(20),y.xc("ngIf",!e.settings.isDeleted),y.Mb(1),y.xc("ngIf",e.settings.isDeleted),y.Mb(2),y.Qb("blocked",e.settings.isDeleted),y.Mb(5),y.Yc(e.work.company),y.Mb(5),y.Yc(e.work.position),y.Mb(5),y.Yc(e.work.salary),y.Mb(1),y.Qb("blocked",e.settings.isDeleted),y.Mb(5),y.Yc(e.contacts.email),y.Mb(5),y.Yc(e.contacts.phone),y.Mb(5),y.Yc(e.contacts.address),y.Mb(1),y.Qb("blocked",e.settings.isDeleted),y.Mb(5),y.Zc("Registration ",y.tc(83,29,e.settings.registrationDate,"dd MMMM, yyyy 'at' HH:mm"),""),y.Mb(6),y.Zc("Joined ",y.tc(89,32,e.settings.joinedDate,"dd MMMM, yyyy 'at' HH:mm"),""),y.Mb(3),y.xc("ngIf",e.settings.isDeleted),y.Mb(1),y.xc("ngIf",!e.settings.isDeleted),y.Mb(2),y.Yc(e.settings.isDeleted?"Blocked":"Active")}}function we(e,c){if(1&e&&(y.ec(0,"div",11),y.Vc(1,he,95,35,"div",37),y.rc(2,"paginate"),y.rc(3,"UserSearchPipe"),y.dc()),2&e){const e=y.qc();y.Mb(1),y.xc("ngForOf",y.tc(2,1,y.tc(3,4,e.users,e.searchText),y.Ac(7,oe,e.page)))}}function xe(e,c){if(1&e){const e=y.fc();y.ec(0,"div",11),y.ec(1,"div",38),y.ec(2,"mat-card",52),y.ec(3,"pagination-controls",53),y.mc("pageChange",function(c){return y.Mc(e),y.qc().onPageChanged(c)}),y.dc(),y.dc(),y.dc(),y.dc()}}function ve(e,c){1&e&&(y.ec(0,"div",54),y.Zb(1,"mat-spinner",55),y.dc())}let ye=(()=>{class e{constructor(e,c,t,a){this.appSettings=e,this.dialog=c,this.UserService=t,this.snackBar=a,this.showSearch=!1,this.viewType="grid",this.settings=this.appSettings.settings}ngOnInit(){this.getUsers()}getUsers(){this.users=null,this.UserService.getAllUsers().subscribe(e=>{this.users=e})}addUser(e){this.UserService.addUser(e).subscribe(e=>this.getUsers())}updateUser(e){this.UserService.updateUser(JSON.parse(e.get("_id")),e).subscribe(e=>this.getUsers())}changeView(e){this.viewType=e,this.showSearch=!1}onPageChanged(e){this.page=e,this.getUsers(),document.getElementById("main").scrollTop=0}openUserDialog(e){this.dialog.open($,{data:e}).afterClosed().subscribe(e=>{let c=e;e&&(""!=JSON.parse(c.get("_id"))?(""===JSON.parse(c.get("password"))&&e.delete("password"),this.updateUser(e)):(e.delete("_id"),this.addUser(e)))}),this.showSearch=!1}openDialog(e){this.dialog.open(Me,{data:{message:"Are you sure want to delete ?",buttonText:{ok:"Save",cancel:"No"}}}).afterClosed().subscribe(c=>{c&&this.UserService.deleteUser(e._id).subscribe(e=>{this.getUsers(),this.snackBar.open("User deleted successfully","close",{duration:2e3})})})}}return e.\u0275fac=function(c){return new(c||e)(y.Yb(u.a),y.Yb(m.b),y.Yb(p.a),y.Yb(M.a))},e.\u0275cmp=y.Sb({type:e,selectors:[["app-users"]],features:[y.Lb([g.a])],decls:24,vars:14,consts:[[3,"icon","title","desc","hideBreadcrumb","hasBgImage"],["color","primary","fxLayout","row","fxLayoutAlign","space-between center",1,"px-2","user-toolbar"],["fxLayout","row"],["mat-icon-button","",3,"click"],["mat-icon-button","",1,"mx-2",3,"click"],[1,"user-search"],[1,"user-search-input"],["matInput","","placeholder","Search user by name...","name","search",3,"ngModel","ngModelChange"],[1,"users-wrapper","p-2"],["fxLayout","row wrap",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","class","user-spinner",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-md","33.3","fxFlex.md","50","fxFlex.sm","50","class","p-2",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-md","33.3","fxFlex.md","50","fxFlex.sm","50",1,"p-2"],["fxLayout","row",1,"p-0","user-content"],["fxFlex","35","fxLayout","column","fxLayoutAlign","center center",1,"bg-primary",3,"ngClass"],[1,"user-img"],["class","transition mb-2",3,"src","blocked",4,"ngIf"],["src","assets/img/users/default-user.jpg","class","transition mb-2",3,"blocked",4,"ngIf"],["class","warn-color block-icon",4,"ngIf"],["fxFlex","65",1,"user-details"],["fxLayout","row","fxLayoutAlign","space-between center"],["class","user-name px-2",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["xPosition","before","overlapTrigger","true"],["menu","matMenu"],[3,"mouseleave"],["mat-menu-item","",3,"click"],[4,"ngIf"],[1,"info-list","mx-2"],["fxLayout","row","fxLayoutAlign","start center"],[1,"secondary-text-color"],[1,"transition","mb-2",3,"src"],["src","assets/img/users/default-user.jpg",1,"transition","mb-2"],[1,"warn-color","block-icon"],[1,"user-name","px-2"],["fxFlex","100","class","p-2",4,"ngFor","ngForOf"],["fxFlex","100",1,"p-2"],[1,"p-0","user-content"],["fxFlex","20","fxFlex.xs","30","fxLayout","column","fxLayoutAlign","center center",1,"bg-primary",3,"ngClass"],["fxLayout","row","fxLayoutAlign","center center",1,"social-icons"],["target","_blank",3,"href"],["viewBox","0 0 24 24",1,"mat-icon","mat-icon-sm","mx-1"],["d","M17,2V2H17V6H15C14.31,6 14,6.81 14,7.5V10H14L17,10V14H14V22H10V14H7V10H10V6A4,4 0 0,1 14,2H17Z"],["d","M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"],["d","M23,11H21V9H19V11H17V13H19V15H21V13H23M8,11V13.4H12C11.8,14.4 10.8,16.4 8,16.4C5.6,16.4 3.7,14.4 3.7,12C3.7,9.6 5.6,7.6 8,7.6C9.4,7.6 10.3,8.2 10.8,8.7L12.7,6.9C11.5,5.7 9.9,5 8,5C4.1,5 1,8.1 1,12C1,15.9 4.1,19 8,19C12,19 14.7,16.2 14.7,12.2C14.7,11.7 14.7,11.4 14.6,11H8Z"],["fxFlex","80","fxFlex.xs","70","fxLayout","row wrap","fxLayout.xs","column",1,"user-details"],[1,"w-100"],["fxFlex","30","fxFlex.xs","100","fxLayout","column",1,"info-list","px-2"],["fxFlex","40","fxFlex.xs","100","fxLayout","column",1,"info-list","px-2"],["class","secondary-text-color",4,"ngIf"],[1,"p-0","text-center"],["autoHide","true","maxSize","3",1,"annular-pagination",3,"pageChange"],["fxLayout","column","fxLayoutAlign","center center",1,"user-spinner"],["color","accent"]],template:function(e,c){1&e&&(y.Zb(0,"app-content-header",0),y.ec(1,"mat-toolbar",1),y.ec(2,"div",2),y.ec(3,"button",3),y.mc("click",function(){return c.openUserDialog(null)}),y.ec(4,"mat-icon"),y.Xc(5,"person_add"),y.dc(),y.dc(),y.ec(6,"button",4),y.mc("click",function(){return c.showSearch=!c.showSearch}),y.ec(7,"mat-icon"),y.Xc(8,"search"),y.dc(),y.dc(),y.dc(),y.ec(9,"form",5),y.ec(10,"mat-form-field",6),y.ec(11,"input",7),y.mc("ngModelChange",function(e){return c.searchText=e}),y.dc(),y.dc(),y.dc(),y.ec(12,"div",2),y.ec(13,"button",4),y.mc("click",function(){return c.changeView("grid")}),y.ec(14,"mat-icon"),y.Xc(15,"view_module"),y.dc(),y.dc(),y.ec(16,"button",3),y.mc("click",function(){return c.changeView("list")}),y.ec(17,"mat-icon"),y.Xc(18,"view_list"),y.dc(),y.dc(),y.dc(),y.dc(),y.ec(19,"div",8),y.Vc(20,se,4,9,"div",9),y.Vc(21,we,4,9,"div",9),y.Vc(22,xe,4,0,"div",9),y.Vc(23,ve,2,0,"div",10),y.dc()),2&e&&(y.Ob("pb-5"),y.xc("icon","supervisor_account")("title","Users")("desc","View information about the users, search, add, edit or delete any user.")("hideBreadcrumb",!1)("hasBgImage",!0),y.Mb(9),y.Qb("show",c.showSearch),y.Mb(2),y.xc("ngModel",c.searchText),y.Mb(9),y.xc("ngIf","grid"==c.viewType),y.Mb(1),y.xc("ngIf","list"==c.viewType),y.Mb(1),y.xc("ngIf",c.users),y.Mb(1),y.xc("ngIf",!c.users))},directives:[J.a,G.a,C.c,C.b,T.b,X.a,o.u,o.o,o.p,D.c,V.b,o.c,o.n,o.q,a.n,a.m,C.a,Z.a,a.l,F.a,Q.d,Q.a,Q.b,R.a,r.c,E.b],pipes:[r.b,z.a,a.e],styles:[".users-wrapper{position:relative;min-height:150px}.user-toolbar{background:transparent!important;height:40px;margin-top:-40px}.user-details{position:relative}.user-details .user-name{font-weight:400;text-transform:uppercase}.user-content .more-btn{position:absolute;right:0;top:0;z-index:1}.user-content .user-img{position:relative;text-align:center}.user-content .user-img .social-icons a{color:#fff}.user-content .user-img img{border-radius:50%;width:80px;height:80px}.user-content .user-img img.blocked{opacity:.5}.user-content .user-img .mat-icon.block-icon{position:absolute;top:-8px;left:-8px;font-size:96px;height:96px;width:96px}.user-content .info-list{position:relative}.user-content .info-list span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-left:8px}.user-content .info-list p{padding:2px 0}.user-content .info-list p:first-child{padding-top:8px}.user-content .info-list p:last-child{padding-bottom:8px}.user-content .info-list.blocked{opacity:.5}.user-search{width:0;overflow:hidden;transition:.3s;font-size:14px}.user-search .mat-form-field{width:100%!important;text-align:center!important;height:36px}.user-search .mat-form-field-infix{padding:5px;width:100px}.user-search .mat-input-element{text-align:center}.user-search.show{width:100%;overflow:visible}.user-spinner{position:absolute;top:0;right:0;bottom:0;left:0}"],encapsulation:2}),e})(),Me=(()=>{class e{constructor(e,c){this.dialogRef=e,this.data=c,this.message="Are you sure?",this.confirmButtonText="Yes",this.cancelButtonText="Cancel"}onNoClick(){this.dialogRef.close()}onConfirmClick(){this.dialogRef.close(!0)}}return e.\u0275fac=function(c){return new(c||e)(y.Yb(m.g),y.Yb(m.a))},e.\u0275cmp=y.Sb({type:e,selectors:[["dialog-overview-example-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"w-100"],["mat-dialog-actions","",1,"w-100"],["mat-button","","tabindex","1",3,"click"],["mat-button","","tabindex","-1",3,"click"]],template:function(e,c){1&e&&(y.ec(0,"h1",0),y.Xc(1,"Delete user"),y.dc(),y.ec(2,"div",1),y.ec(3,"p"),y.Xc(4,"are you sure you want to delete?"),y.dc(),y.dc(),y.ec(5,"div",2),y.ec(6,"button",3),y.mc("click",function(){return c.onConfirmClick()}),y.Xc(7),y.dc(),y.ec(8,"button",4),y.mc("click",function(){return c.onNoClick()}),y.Xc(9),y.dc(),y.dc()),2&e&&(y.Mb(7),y.Yc(c.confirmButtonText),y.Mb(2),y.Yc(c.cancelButtonText))},encapsulation:2}),e})();class ke{createDb(){return{users:[{id:1,username:"pretty",password:"pretty123",profile:{name:"Ashley",surname:"Ahlberg",birthday:new Date(1981,2,29),gender:"female",image:"assets/img/profile/ashley.jpg"},work:{company:"Google",position:"Product designer",salary:5e3},contacts:{email:"ashley@gmail.com",phone:"(202) 756-9756",address:"Washington"},social:{facebook:"ashley_ahlberg",twitter:"ashley_ahlberg",google:"ashley_ahlberg"},settings:{isActive:!0,isDeleted:!1,registrationDate:"2012-10-13T12:20:40.511Z",joinedDate:"2017-04-21T18:25:43.511Z",bgColor:"gradient-purple"}},{id:2,username:"bruno.V",password:"bruno123",profile:{name:"Bruno",surname:"Vespa",birthday:new Date(1992,11,20),gender:"male",image:"assets/img/profile/bruno.jpg"},work:{company:"Dell EMC",position:"Sale manager",salary:17e3},contacts:{email:"bruno@dell.com",phone:"(415) 231-0332",address:"San Francisco"},social:{facebook:"",twitter:"",google:""},settings:{isActive:!1,isDeleted:!1,registrationDate:"2011-01-05T08:45:23.511Z",joinedDate:"2017-05-20T18:25:43.511Z",bgColor:"gradient-teal"}},{id:3,username:"andy.79",password:"andy123",profile:{name:"Andy",surname:"Warhol",birthday:new Date(1979,10,21),gender:"male",image:"assets/img/avatars/avatar-3.png"},work:{company:"Adecco",position:"Product manager",salary:13e3},contacts:{email:"andy@adecco.com",phone:"(212) 457-2308",address:"New York"},social:{facebook:"",twitter:"",google:""},settings:{isActive:!0,isDeleted:!1,registrationDate:"2014-11-01T19:35:43.511Z",joinedDate:"2017-06-28T15:25:43.511Z",bgColor:"gradient-amber"}},{id:4,username:"julia.a",password:"julia123",profile:{name:"Julia",surname:"Aniston",birthday:new Date(1982,6,18),gender:"female",image:"assets/img/profile/julia.jpg"},work:{company:"Apple",position:"Sales manager",salary:18e3},contacts:{email:"julia@apple.com",phone:"(224) 267-1346",address:"Illinois, Chicago"},social:{facebook:"",twitter:"",google:""},settings:{isActive:!0,isDeleted:!1,registrationDate:"2015-12-06T11:10:20.511Z",joinedDate:"2017-06-29T15:15:40.511Z",bgColor:"gradient-brown"}},{id:5,username:"lusia.m",password:"lusia123",profile:{name:"Lusia",surname:"Manuel",birthday:new Date(1992,12,2),gender:"female",image:"assets/img/avatars/avatar-7.png"},work:{company:"Alphabet",position:"Office manager",salary:1e4},contacts:{email:"lusia@alphabet.com",phone:"(224) 267-1346",address:"California, Los Angeles"},social:{facebook:"",twitter:"",google:""},settings:{isActive:!0,isDeleted:!0,registrationDate:"2014-01-10T10:20:20.511Z",joinedDate:"2017-06-28T12:20:40.511Z",bgColor:"gradient-indigo"}},{id:6,username:"adam.82",password:"adam123",profile:{name:"Adam",surname:"Sandler",birthday:new Date(1987,12,24),gender:"male",image:"assets/img/profile/adam.jpg"},work:{company:"General Electric",position:"Product manager",salary:21e3},contacts:{email:"adam@gen-el.com",phone:"(224) 267-1346",address:"Texas, Houston"},social:{facebook:"",twitter:"",google:""},settings:{isActive:!1,isDeleted:!1,registrationDate:"2016-11-16T12:20:20.511Z",joinedDate:"2017-06-27T14:20:40.511Z",bgColor:"gradient-green"}},{id:7,username:"tereza.s",password:"tereza123",profile:{name:"Tereza",surname:"Stiles",birthday:new Date(1979,7,9),gender:"female",image:"assets/img/profile/tereza.jpg"},work:{company:"Southwest Airlines",position:"Sale manager",salary:31e3},contacts:{email:"tereza@airlines.com",phone:"(214) 617-2614",address:"Texas, Dallas"},social:{facebook:"",twitter:"",google:""},settings:{isActive:!0,isDeleted:!1,registrationDate:"2010-10-12T16:20:20.511Z",joinedDate:"2017-06-29T15:20:40.511Z",bgColor:"gradient-pink"}},{id:8,username:"michael.b",password:"michael123",profile:{name:"Michael",surname:"Blair",birthday:new Date(1978,11,15),gender:"male",image:"assets/img/profile/michael.jpg"},work:{company:"Microsoft",position:"Software developer",salary:5e4},contacts:{email:"michael@microsoft.com",phone:"(267) 388-1637",address:"Pennsylvania, Philadelphia"},social:{facebook:"",twitter:"",google:""},settings:{isActive:!0,isDeleted:!1,registrationDate:"2009-08-12T16:20:20.511Z",joinedDate:"2017-06-30T11:30:40.511Z",bgColor:"gradient-gray"}},{id:9,username:"michelle.81",password:"michelle123",profile:{name:"Michelle",surname:"Ormond",birthday:new Date(1981,11,18),gender:"female",image:"assets/img/avatars/avatar-5.png"},work:{company:"Starbucks",position:"Sale manager",salary:15e3},contacts:{email:"michelle@starbucks.com",phone:"(267) 388-1637",address:"Washington, Seattle"},social:{facebook:"",twitter:"",google:""},settings:{isActive:!1,isDeleted:!0,registrationDate:"2012-11-10T18:20:20.511Z",joinedDate:"2015-03-29T17:20:40.511Z",bgColor:"gradient-lime"}}]}}}var Ce=t("tA9a");const De=[{path:"",canActivate:[(()=>{class e{constructor(e,c){this.auth=e,this.router=c}canActivate(){return!!this.auth.isNotAllowed()||(this.router.navigate([""]),!1)}}return e.\u0275fac=function(c){return new(c||e)(y.ic(Ce.a),y.ic(n.d))},e.\u0275prov=y.Ub({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()],component:ye,pathMatch:"full"}];let Xe=(()=>{class e{}return e.\u0275mod=y.Wb({type:e}),e.\u0275inj=y.Vb({factory:function(c){return new(c||e)},imports:[[a.c,i.d,n.h.forChild(De),o.j,o.r,s.a.forRoot(ke,{delay:500}),r.a,l.a,d.a]]}),e})()}}]);